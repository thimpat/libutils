var V=Object.defineProperty,k=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var P=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N=(e,t)=>{for(var n in t||(t={}))te.call(t,n)&&P(e,n,t[n]);if(L)for(var n of L(t))ne.call(t,n)&&P(e,n,t[n]);return e},R=(e,t)=>k(e,ee(t));var j=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=j((Le,B)=>{B.exports=function(e,t){t||(t={});var n={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(n.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?n.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(i){n.bools[i]=!0});var o={};Object.keys(t.alias||{}).forEach(function(i){o[i]=[].concat(t.alias[i]),o[i].forEach(function(d){o[d]=[i].concat(o[i].filter(function(A){return d!==A}))})}),[].concat(t.string).filter(Boolean).forEach(function(i){n.strings[i]=!0,o[i]&&(n.strings[o[i]]=!0)});var s=t.default||{},r={_:[]};Object.keys(n.bools).forEach(function(i){h(i,s[i]===void 0?!1:s[i])});var c=[];e.indexOf("--")!==-1&&(c=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));function p(i,d){return n.allBools&&/^--[^=]+$/.test(d)||n.strings[i]||n.bools[i]||o[i]}function h(i,d,A){if(!(A&&n.unknownFn&&!p(i,A)&&n.unknownFn(A)===!1)){var f=!n.strings[i]&&$(d)?Number(d):d;E(r,i.split("."),f),(o[i]||[]).forEach(function(S){E(r,S.split("."),f)})}}function E(i,d,A){for(var f=i,S=0;S<d.length-1;S++){var u=d[S];if(J(f,u))return;f[u]===void 0&&(f[u]={}),(f[u]===Object.prototype||f[u]===Number.prototype||f[u]===String.prototype)&&(f[u]={}),f[u]===Array.prototype&&(f[u]=[]),f=f[u]}var u=d[d.length-1];J(f,u)||((f===Object.prototype||f===Number.prototype||f===String.prototype)&&(f={}),f===Array.prototype&&(f=[]),f[u]===void 0||n.bools[u]||typeof f[u]=="boolean"?f[u]=A:Array.isArray(f[u])?f[u].push(A):f[u]=[f[u],A])}function T(i){return o[i].some(function(d){return n.bools[d]})}for(var m=0;m<e.length;m++){var l=e[m];if(/^--.+=/.test(l)){var I=l.match(/^--([^=]+)=([\s\S]*)$/),a=I[1],_=I[2];n.bools[a]&&(_=_!=="false"),h(a,_,l)}else if(/^--no-.+/.test(l)){var a=l.match(/^--no-(.+)/)[1];h(a,!1,l)}else if(/^--.+/.test(l)){var a=l.match(/^--(.+)/)[1],v=e[m+1];v!==void 0&&!/^-/.test(v)&&!n.bools[a]&&!n.allBools&&(o[a]?!T(a):!0)?(h(a,v,l),m++):/^(true|false)$/.test(v)?(h(a,v==="true",l),m++):h(a,n.strings[a]?"":!0,l)}else if(/^-[^-]+/.test(l)){for(var g=l.slice(1,-1).split(""),F=!1,b=0;b<g.length;b++){var v=l.slice(b+2);if(v==="-"){h(g[b],v,l);continue}if(/[A-Za-z]/.test(g[b])&&/=/.test(v)){h(g[b],v.split("=")[1],l),F=!0;break}if(/[A-Za-z]/.test(g[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(v)){h(g[b],v,l),F=!0;break}if(g[b+1]&&g[b+1].match(/\W/)){h(g[b],l.slice(b+2),l),F=!0;break}else h(g[b],n.strings[g[b]]?"":!0,l)}var a=l.slice(-1)[0];!F&&a!=="-"&&(e[m+1]&&!/^(-|--)[^-]/.test(e[m+1])&&!n.bools[a]&&(o[a]?!T(a):!0)?(h(a,e[m+1],l),m++):e[m+1]&&/^(true|false)$/.test(e[m+1])?(h(a,e[m+1]==="true",l),m++):h(a,n.strings[a]?"":!0,l))}else if((!n.unknownFn||n.unknownFn(l)!==!1)&&r._.push(n.strings._||!$(l)?l:Number(l)),t.stopEarly){r._.push.apply(r._,e.slice(m+1));break}}return Object.keys(s).forEach(function(i){re(r,i.split("."))||(E(r,i.split("."),s[i]),(o[i]||[]).forEach(function(d){E(r,d.split("."),s[i])}))}),t["--"]?(r["--"]=new Array,c.forEach(function(i){r["--"].push(i)})):c.forEach(function(i){r._.push(i)}),r};function re(e,t){var n=e;t.slice(0,-1).forEach(function(s){n=n[s]||{}});var o=t[t.length-1];return o in n}function $(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function J(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}});var M=j((Pe,H)=>{var oe={DATA_DIR_FAILED:"Failed to access application data directory"};H.exports.PATH_ERRORS=oe});var x=require("path"),y=require("fs"),se=require("https"),ie=require("crypto"),ce=q(),le=function(){let e=ce(process.argv.slice(2)),t,n=[];return e._.length&&(t=e._[0],n=e._),function(){try{return N({filepath:t,filepaths:n,_:e._,args:e._},e)}catch(o){console.error({lid:1e3},o.message)}return null}}();module.exports.getGlobalArguments=le;var{PATH_ERRORS:fe}=M();function ae(e){return new Promise(t=>{setTimeout(t,e)})}function ue(e,t=void 0){let n={},o=e.length;for(let s=0;s<o;++s){let r=e[s];n[r]=t===void 0?s:t}return n}function D(e){if(e){if(Array.isArray(e))return!1}else return!1;return typeof e=="object"}function C(e,...t){if(!t.length)return e;let n=t.shift();if(D(e)&&D(n))for(let o in n)D(n[o])?(e[o]||Object.assign(e,{[o]:{}}),C(e[o],n[o])):Object.assign(e,{[o]:n[o]});return C(e,...t)}function pe({prefix:e="",suffix:t="",size:n=16,replacementChar:o="_"}={}){return n=n-e.length,n<0?e:e+ie.randomBytes(n).toString("base64").replace(/[^\w\d]/g,o)+t}var z=(e,t=void 0)=>{let o={port:"port",protocol:"protocol",timeout:"timeout",host:"host",defaultPage:"defaultpage",silent:()=>["--silent"],staticDirs:r=>{let c=[];return r.forEach(p=>{c.push("--dir"),c.push(p)}),c},enableapi:r=>r?[]:["--disableapi"]}[e];return o?typeof o=="function"?o(t):[`--${o}`,t]:[]},he=(e,t,{scriptPath:n="",command:o="",target:s=""}={})=>{let r=t.slice(0,1);if(n){if(!y.existsSync(n))throw new Error(`[${n}] could not be found`);r.push(n)}o&&(r.push(o),s&&r.push(s));for(let[c,p]of Object.entries(e)){let h=z(c,p);!h||!h.length||r.push(...h)}return r},w=(e,{isFolder:t=!1,isForceLinuxFormat:n=!1,isForceRelative:o=!0,uncRoot:s=""}={})=>{let r=e;try{if(r==null)return r;if(!r.trim())return"./";if(t===void 0&&(t=O(e)),r=x.normalize(r),r=r.replace(/\\/gm,"/"),t&&(Z(r)||(r=r+"/")),x.isAbsolute(r)){if(n){let p=r.split(":/");p.length>1&&(p[0]=s||p[0],r=p.join("/"))}return r}let c=r.charAt(0);o&&(c==="."||c==="/"||(r="./"+r))}catch(c){console.error(`Could not normalize path [${e}]: ${c.message}`)}return r},de=(e,{isForceLinuxFormat:t=!1,isForceRelative:n=!0,uncRoot:o=""}={})=>w(e,{isFolder:!0,isForceLinuxFormat:t,isForceRelative:n,uncRoot:o}),me=e=>{try{return e?(e=e.trim().toLowerCase(),e):""}catch(t){console.error(t)}},O=(...e)=>{try{if(e===void 0)return!1;let t=e[e.length-1];return t?(t=t.trim(),t.slice(-1)==="/"):!1}catch(t){console.error({lid:1151},"Missed case The developer has omitted a use case. Please, send us an email containing this error if possible => "+t.message)}return!1},U=(...e)=>{let t=O(...e),n=x.join(...e);return n=w(n,{isFolder:t}),n},be=e=>{let t=O(e);return e=x.resolve(e),e=w(e,{isFolder:t}),e},ye=(e,t=[])=>{if(!e)return!1;if(!Array.isArray(t))throw new Error("list should be an array");return!t||!t.length?!1:t.includes(e)},ve=e=>y.statSync(e).size,K=function(e,t={encoding:"utf-8"}){return y.readFileSync(e,t)},G=function(e,t,n={encoding:"utf-8"}){return y.writeFileSync(e,t,n)},ge=function(e){let t=K(e),n;try{n=JSON.parse(t)}catch(o){console.error(o)}return n},Ae=function(e,t,{indent:n=null,encoding:o="utf-8"}={}){let s;s=JSON.stringify(t,null,n),G(e,s,{encoding:o})},xe=({protocol:e,host:t,port:n,pathname:o})=>{let s=new URL("http://localhost");return s.protocol=e,s.host=t,s.port=n,o&&(s.pathname=o),s.toString()},we=function(e){e||console.log({lid:2e3,target:"void"},e)},Z=e=>e?e.charAt(e.length-1)==="/":!1,Se=(e,t)=>{e=w(e),t=w(t),Z(e)||(e=x.parse(e).dir+"/");let n=x.relative(e,t);return w(n)},Ee=async function(e,t=!1){return new Promise(async function(n,o){try{se.get(e,s=>{let r="";s.on("data",c=>{r+=c}),s.on("end",()=>{r=t?JSON.parse(r):r,n(r)})}).on("error",s=>{console.log(s.message)})}catch(s){o(s)}})};function Fe(e,t="word"){if(t==="verb")return e===1?"s":"";if(t==="word")return e===1?"":"s"}var De=(e,t="",n={})=>{let o={};return t.split(",").forEach(r=>{r=r.trim(),o[r.toLowerCase()]=r}),Object.keys(e).forEach(r=>{let c=r.toLowerCase();if(c===r){let p=o[c];if(p){n[p]=e[r];return}}n[r]=e[r]}),n},Oe=(e,t={})=>(Object.keys(e).forEach(n=>{t[n]=e[n],t[n.toLowerCase()]=e[n]}),t),W=e=>{try{let t=process.env.APPDATA||(process.platform==="darwin"?process.env.HOME+"/Library/Preferences":process.env.HOME+"/.local/share");return U(t,e)}catch{}return null},_e=e=>{try{let t=W(e);return t?(y.existsSync(t)||y.mkdirSync(t,{recursive:!0}),y.lstatSync(t).isDirectory()):(console.error(fe.DATA_DIR_FAILED),!1)}catch(t){console.error(t.message)}return!1},Q=function(e){try{let t,n,o,s,r=e.split(":");o=parseInt(r.pop()),n=parseInt(r.pop()),r=r.join(":").split(/\s*\(/),s=r.pop();let p=r.pop().match(/\bat\s+(\w+)/);return t=p.length===2?p[1]:"",{funcName:t,lineNumber:n,colNumber:o,source:s,filesource:s}}catch(t){console.error({lid:1e3},t.message)}return null},Ne=({stackStart:e=4,stackPhrase:t=""}={})=>{let n,o;try{n=new Error("MyError").stack.split(`
`);let r;if(t&&(r=new RegExp(t,"gm"),e=0),!e){for(let c=0;c<n.length;++c)if(r.test(n[c])){e=c+1;break}}if(o=Q(n[e]),!o)return{}}catch(s){console.error({lid:2239},s.message)}return R(N({lines:n},o),{fileSource:o.source})},Ce=()=>{let e,t,n=[];try{e=new Error("MyError").stack.split(`
`);let s=-1;for(let r=0;r<e.length;++r){let c=e[r];/\btestgen\.cjs\b/.test(c)&&(s=r),t=Q(c),t&&n.push(t)}s>-1&&(n=n.slice(s))}catch(o){console.error({lid:2239},o.message)}return n},X=(e,t)=>{let n=o=>Object.entries(o).sort().map(s=>(s[1]instanceof Object&&(s[1]=n(s[1])),s));return JSON.stringify(n(e))===JSON.stringify(n(t))},Y=(e,{extension:t="bak"}={})=>{let n=x.parse(e),o=n.dir,s=n.name,r=x.join(o,s+`.${t}`);if(!y.existsSync(r))return r;for(let c=0;;++c){let p=x.join(o,s+`.${t}.${c}`);if(!y.existsSync(p))return p}throw Error("Could not determine file temp name")},Te=(e,t)=>{try{if(e||console.error("The list of users cannot be empty"),y.existsSync(t)){let o=y.readFileSync(t,"utf-8"),s=JSON.parse(o);if(X(s,o))return!0}let n=JSON.stringify(e,null,4);try{let o=Y(t);return y.copyFileSync(t,o),y.writeFileSync(t,n,"utf-8"),y.unlinkSync(o),!0}catch(o){console.error({lid:1e3},o.message)}}catch(n){console.error({lid:1e3},n.message)}return!1};module.exports.normalisePath=w;module.exports.normaliseDirPath=de;module.exports.convertArrayToObject=ue;module.exports.joinPath=U;module.exports.mergeDeep=C;module.exports.sleep=ae;module.exports.generateTempName=pe;module.exports.convertSessionKeyNameToArg=z;module.exports.convertSessionToArg=he;module.exports.resolvePath=be;module.exports.isItemInList=ye;module.exports.convertToUrl=xe;module.exports.doNothing=we;module.exports.fetchSync=Ee;module.exports.calculateRelativePath=Se;module.exports.normaliseFileName=me;module.exports.isObject=D;module.exports.addPlural=Fe;module.exports.areEquals=X;module.exports.replaceJsonContent=Te;module.exports.getFilepathCopyName=Y;module.exports.getFilesizeInBytes=ve;module.exports.getFileContent=K;module.exports.writeFileContent=G;module.exports.loadJsonFile=ge;module.exports.saveJsonFile=Ae;module.exports.getCallInfo=Ne;module.exports.getStackInfo=Ce;module.exports.importLowerCaseOptions=De;module.exports.changeOptionsToLowerCase=Oe;module.exports.isArgsDir=O;module.exports.getAppDataDir=W;module.exports.createAppDataDir=_e;
